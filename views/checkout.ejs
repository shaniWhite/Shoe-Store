<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="/checkout.css">
</head>
<body>
    <div class="checkout-container">
        <h1>Checkout</h1>

        <div class="order-summary">
            <h2>Your Order:</h2>
            <ul>
                <% cart.forEach(function(item) { %>
                    <li>
                        <span><%= item.title %></span>
                        <span> - Size: <%= item.size %></span> <!-- Display the size -->
                        <span> - Quantity: <%= item.quantity %></span> <!-- Display the quantity -->
                        <span>$<%= (item.price * item.quantity).toFixed(2) %></span> <!-- Ensure 2 decimal places -->
                    </li>
                <% }); %>
            </ul>
            <% if (typeof totalPrice === 'number') { %>
                <p class="total">Total: $<%= totalPrice.toFixed(2) %></p>
            <% } else { %>
                <p class="error">Error: totalPrice is not a number!</p>
            <% } %>
        </div>

        <form action="/users/checkout/complete" method="POST">
            <div class="form-group">
                <label for="first-name">First Name:</label>
                <input type="text" id="first-name" name="firstName" required>
            </div>
        
            <div class="form-group">
                <label for="last-name">Last Name:</label>
                <input type="text" id="last-name" name="lastName" required>
            </div>
        
            <div class="form-group">
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" required>
            </div>
        
            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" required>
            </div>
        
            <div class="form-group">
                <label for="city">City:</label>
                <input type="text" id="city" name="city" required>
            </div>
        
            <div class="form-group">
                <label for="phone-number">Phone Number:</label>
                <input type="tel" id="phone-number" name="phoneNumber" required>
            </div>
        
            <button type="submit" class="button-minimal">Complete Purchase</button>
        </form>
        
    </div>
</body>
</html>
